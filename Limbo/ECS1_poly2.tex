\startproduct Limbo
\project project_Poly2


% parse poly, record groups hierarchy, context, statements and numbers and then produce cours



\iffalse Environment for Poly \fi
\definecolor[myGreen][r=0.55, g=0.76, b=0.29]%
\definecolor[lighterYellow][r=0.98, g=0.75, b=0.18]% 
\definecolor[myYellow][r=0.98, g=0.66, b=0.15]%
\definecolor[darkerYellow][r=0.96, g=0.50, b=0.09]% 
\definecolor[myBlue][r=0, g=0.51, b=0.56]%
\definecolor[myMagenta][r=0.61, g=0.15, b=0.69]% 
%before={\startaxiomframe},after={\stopaxiomframe}
\defineenumeration[definition][command=\myGreen,left={\somenamedheadnumber{chapter}{current}.},location=serried,width=fit,text=D√©finition,location=serried,counter=property,alternative=left,title=yes,style=normal,list=all,listtext={D√©finition }]
\defineenumeration[theorem][command=\darkerYellow,left={\somenamedheadnumber{chapter}{current}.},location=serried,width=fit,text=Th√©or√®me,counter=property,title=yes,style=normal,list=all,listtext={Th√©or√®me }]
\defineenumeration[property][command=\myYellow,left={\somenamedheadnumber{chapter}{current}.},location=serried,width=fit,text=Propri√©t√©,title=yes,way=bychapter,style=normal,list=all,listtext={Propri√©t√© }]
\defineenumeration[corollary][counter=property,command=\lighterYellow,left={\somenamedheadnumber{chapter}{current}.},location=serried,width=fit,text=Corollaire,title=yes,style=normal,list=all,listtext={Corollaire }]
\defineenumeration[notation][command=\myBlue,left={\somenamedheadnumber{chapter}{current}.},location=serried,width=fit,text=Notation,counter=property,title=yes,style=normal,list=all,listtext={Notation }]
\defineenumeration[craft][command=\myMagenta,left={\somenamedheadnumber{chapter}{current}.},location=serried,width=fit,text=M√©thode,counter=property,title=yes,style=normal,list=all,listtext={M√©thode }]

\catcode`ùïÇ=\active
\catcode`‚àÖ=\active
\let‚àÖ\varnothing
\defùïÇ{‚Ñù}%
\definehead[domain][chapter]
\setuphead[domain][incrementnumber=list]
\setuplist[domain][width=0em,style=bold]  
\setuplist[chapter][width=1.5em]  
\setuplist[section][width=2.5em]                                              
\setuplist[subsection][width=3.5em, margin=2.5em]   
\setuplist[subject][margin=1.5em]
\setupcombinedlist[content][list={domain, chapter,section,subsection}]


\def\experimentwithxmltraversal{

\startxmlsetups xml:annotate
%\xmlsetsetup{#1}{*}{-}
% sectioning
\xmlsetsetup{annotate}{*}{xml}
\stopxmlsetups
\xmlregistersetup{xml:annotate} 

\startxmlsetups xml
arf 
%\ctxlua{L.annotate("#1")}%
\stopxmlsetups
\starttext
\ctxlua{L.annotated()}
%\xmlprocessfile{annotate}{saved.xml}{}
\stoptext

}

\starttext
\centerline{\bfd Math√©matiques}
\centerline{\tf (document de cours)}
\blank[big]
\centerline{\bfb ECS 1√®re ann√©e}
\blank[big]
\centerline{Olivier Binda}
\blank[medium]
\centerline{\currentdate}
\stoptext
\enabletrackers[lxml.loading,lxml.setups]

\ctxlua{L.computeTree("pol", "xml/ECS_poly.xml")}%
%\applySettups{maths}

\starttext
\xmlprocessfile{poly}{saved.xml}{}
\stoptext

\starttext
\chapter{Fiches}
\completeRecords
\stopcolumns
\stoptext

\starttext
\completecontent[criterium=all]
\stoptext

\stopproduct
\iffalse
<!-- 

% Fondements th√©oriques
% alphabet grec
% A1.1 (propositions)
\xmlprocessfile{maths}{xml/ECS_Logique.xml}{}
% A1.2 (suites)
\xmlprocessfile{maths}{xml/ECS_sommes_produits_r√©currences.xml}{}
% A1.3 (fonctions)
\xmlprocessfile{maths}{xml/ECS_Ensembles_et_applications.xml}{}
% A6.4 combinatoire

% A4.1 ‚Ñù 
\stopdomain

\startdomain [title=Analyse]
% Analyse (suites) 
%A4.2 exemples suites r√©elles
\xmlprocessfile{maths}{xml/ECS_Suites_fondamentales.xml}{}
%A4.3 suites r√©elles 
\xmlprocessfile{maths}{xml/ECS_Suites.xml}{}
%B2.1 etude asymptotique
%B2.3 S√©ries

% Analyse (fonctions)
% A5.1 limites et continuit√© fonctions r√©elles
% A5.2 etude globale sur un intervalle
\xmlprocessfile{maths}{xml/ECS_Continuit√©_limites.xml}{}
\xmlprocessfile{maths}{xml/Limbo_Continuit√©.xml}{}
% A5.3 d√©rivation
% B2.8 extrema
% B2.9 fonctions convexes
\xmlprocessfile{maths}{xml/Limbo_D√©rivation.xml}{}
% B2.5 d√©riv√©es successives
% A5.4 int√©gration sur un segment + sommes de Riemann
\xmlprocessfile{maths}{xml/ECS_D√©riv√©es_et_primitives.xml}{}
\xmlprocessfile{maths}{xml/Limbo_Int√©gration.xml}{}
%B2.6 Formule de Taylor
%B2.2 comparaison des fonctions
%B2.7 d√©veloppements limit√©s
%B2.4 integrales generalis√©es
-->
\fi
